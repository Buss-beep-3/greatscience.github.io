<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Menu</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        #menu-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #game-list {
            width: 50%;
            height: 70%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        .game-option {
            font-size: 2rem;
            color: white;
            margin: 10px 0;
            opacity: 0.3;
            filter: blur(3px);
            transition: transform 0.3s ease, opacity 0.3s ease, filter 0.3s ease;
            cursor: pointer;
        }

        .game-option.focused {
            font-size: 3rem;
            opacity: 1;
            filter: blur(0);
            transform: scale(1.2);
        }

        #game-info {
            width: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            padding: 20px;
        }

        #game-icon {
            width: 150px;
            height: 150px;
            margin-bottom: 20px;
            background-color: gray; /* Placeholder for game icon */
            border-radius: 10px;
            background-size: cover;
            background-position: center;
        }

        #game-description {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        #mobile-controls {
            display: none;
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .control-button {
            padding: 15px;
            font-size: 1.5rem;
            color: white;
            background-color: red;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            width: 60px;
            height: 60px;
            text-align: center;
            outline: none;
        }

        .control-button:active {
            background-color: darkred;
        }
    </style>
</head>
<body>
    <div id="menu-container">
        <div id="game-list">
            <div class="game-option focused" data-game="game1.html" data-description="A fun racing game!" data-icon="icon1.png">Game 1</div>
            <div class="game-option" data-game="game2.html" data-description="A thrilling shooter game!" data-icon="icon2.png">Game 2</div>
            <div class="game-option" data-game="game3.html" data-description="A challenging puzzle game!" data-icon="icon3.png">Game 3</div>
            <div class="game-option" data-game="game4.html" data-description="An exciting adventure game!" data-icon="icon4.png">Game 4</div>
            <div class="game-option" data-game="game5.html" data-description="An exciting adventure game!" data-icon="icon5.png">Game 5</div>
            <div class="game-option" data-game="/theheist/index.html" data-description="An exciting adventure game!" data-icon="/theheist/theheist.png">The Heist</div>
        </div>

        <div id="game-info">
            <div id="game-icon"></div>
            <p id="game-description">Select a game to see details!</p>
        </div>

        <div id="mobile-controls">
            <button class="control-button" id="up-button">↑</button>
            <button class="control-button" id="enter-button">✓</button>
            <button class="control-button" id="down-button">↓</button>
        </div>
    </div>

    <script>
        const options = document.querySelectorAll(".game-option");
        const gameIcon = document.getElementById("game-icon");
        const gameDescription = document.getElementById("game-description");
        const mobileControls = document.getElementById("mobile-controls");
        const upButton = document.getElementById("up-button");
        const downButton = document.getElementById("down-button");
        const enterButton = document.getElementById("enter-button");
        const gameList = document.getElementById("game-list");

        let currentIndex = 0;

        // Detect if the user is on a mobile device
        const isMobile = /Mobi|Android/i.test(navigator.userAgent);

        if (isMobile) {
            mobileControls.style.display = "flex";

            upButton.addEventListener("click", () => {
                switchOption(-1);
            });

            downButton.addEventListener("click", () => {
                switchOption(1);
            });

            enterButton.addEventListener("click", () => {
                selectOption();
            });
        } else {
            document.addEventListener("keydown", (e) => {
                if (e.key === "ArrowUp") {
                    switchOption(-1);
                } else if (e.key === "ArrowDown") {
                    switchOption(1);
                } else if (e.key === "Enter") {
                    selectOption();
                }
            });
        }

        function switchOption(direction) {
            // Remove focus from the current option
            options[currentIndex].classList.remove("focused");

            // Calculate the new index
            currentIndex = (currentIndex + direction + options.length) % options.length;

            // Add focus to the new option
            options[currentIndex].classList.add("focused");

            // Center the focused option in the middle of the list
            const offset = options[currentIndex].offsetTop - gameList.offsetHeight / 2 + options[currentIndex].offsetHeight / 2;
            gameList.scrollTo({
                top: offset,
                behavior: "smooth"
            });

            // Update game info
            updateGameInfo();
        }

        function updateGameInfo() {
            const focusedOption = options[currentIndex];
            const description = focusedOption.getAttribute("data-description");
            const icon = focusedOption.getAttribute("data-icon");

            gameDescription.textContent = description || "No description available.";
            gameIcon.style.backgroundImage = `url(${icon || ""})`;
            gameIcon.style.backgroundColor = icon ? "transparent" : "gray";
        }

        function selectOption() {
            const selectedGame = options[currentIndex].getAttribute("data-game");
            window.location.href = selectedGame; // Redirect to the game's HTML file
        }

        // Initialize game info for the first option
        updateGameInfo();
    </script>
</body>
</html>
